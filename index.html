<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carregar Processos</title>
</head>
<body>

  <h1>Dados dos Processos</h1>
  <p>Abra o console do navegador (F12) para ver os dados carregados.</p>
  <pre id="dados-container"></pre>

  <script>
    // Função para buscar os dados da nossa API
    async function carregarProcessos() {
      try {
        // AQUI ESTÁ A MÁGICA:
        // A requisição é feita para '/api/processos'.
        // O navegador automaticamente entende que é para o mesmo servidor de onde esta página veio.
        const response = await fetch('/api/processos');

        // Verifica se a requisição foi bem-sucedida (status 200-299)
        if (!response.ok) {
          throw new Error(`Erro na rede: ${response.status}`);
        }

        // Converte a resposta para JSON
        const dados = await response.json();

        // Exibe os dados no console para verificação
        console.log('Dados recebidos com sucesso:', dados);

        // Opcional: Exibe os dados formatados na página
        document.getElementById('dados-container').textContent = JSON.stringify(dados, null, 2);

      } catch (error) {
        console.error('Falha na requisição API:', error);
        document.getElementById('dados-container').textContent = `Erro ao carregar dados: ${error.message}`;
      }
    }

    // Chama a função quando a página terminar de carregar
    document.addEventListener('DOMContentLoaded', carregarProcessos);
  </script>

</body>
</html>
